<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>The SpatialAnnotation - Class — SpatialAnnotation-class • SPATA2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="The SpatialAnnotation - Class — SpatialAnnotation-class"><meta property="og:description" content="S4 class that represents annotations for spatial data,
allowing users to define and store polygons that outline areas of interest
within images or datasets. It serves as the overarching class for different
spatial annotation methods."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SPATA2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../articles/spata-data.html">SPATAData</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Initiating a SPATA2 object</li>
    <li>
      <a href="../articles/initiation-and-preprocessing-customized.html">Initiation &amp; Preprocessing with individual data</a>
    </li>
    <li>
      <a href="../articles/initiation-and-preprocessing-merfish.html">Initiation &amp; Preprocessing with MERFISH data</a>
    </li>
    <li>
      <a href="../articles/initiation-and-preprocessing-visium.html">Initiation &amp; Preprocessing with Visium data</a>
    </li>
    <li>
      <a href="../articles/initiation-and-preprocessing-visium-hd.html">Initiation &amp; Preprocessing with VisiumHD data</a>
    </li>
    <li class="dropdown-header">Basic Manipulation of a SPATA2 object</li>
    <li>
      <a href="../articles/adding-data.html">Adding Data to SPATA2 objects</a>
    </li>
    <li>
      <a href="../articles/package-compatibility.html">Platform Compatibility</a>
    </li>
    <li>
      <a href="../articles/molecular-variables.html">Molecular Variables</a>
    </li>
    <li>
      <a href="../articles/image-handling.html">Image Handling</a>
    </li>
    <li>
      <a href="../articles/spatial-segmentation.html">Spatial Segmentation</a>
    </li>
    <li class="dropdown-header">Implemented Algorithms &amp; Concepts</li>
    <li>
      <a href="../articles/cnv.html">Copy Number Variations</a>
    </li>
    <li>
      <a href="../articles/clustering.html">Clustering</a>
    </li>
    <li>
      <a href="../articles/dimensional-reduction.html">Dimensional Reduction</a>
    </li>
    <li>
      <a href="../articles/dea.html">Differential Expression</a>
    </li>
    <li>
      <a href="../articles/gsea.html">Gene Set Enrichment</a>
    </li>
    <li>
      <a href="../articles/spatial-measures.html">Spatial Measures</a>
    </li>
    <li class="dropdown-header">Spatial Gradient Screening</li>
    <li>
      <a href="../articles/creating-spatial-annotations.html">Creating Spatial Annotations</a>
    </li>
    <li>
      <a href="../articles/using-spatial-annotations.html">Using Spatial Annotations</a>
    </li>
    <li>
      <a href="../articles/spatial-annotation-screening.html">Spatial Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/creating-spatial-trajectories.html">Creating Spatial Trajectories</a>
    </li>
    <li>
      <a href="../articles/spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li class="dropdown-header">Visualization</li>
    <li>
      <a href="../articles/plotting-surface.html">Surface Plotting</a>
    </li>
  </ul></li>
<li>
  <a href="../articles/newslog.html">Newslog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The <code>SpatialAnnotation</code> - Class</h1>

    <div class="hidden name"><code>SpatialAnnotation-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>S4 class that represents annotations for spatial data,
allowing users to define and store polygons that outline areas of interest
within images or datasets. It serves as the overarching class for different
spatial annotation methods.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>The following classes are derivatives of this class: <code><a href="GroupAnnotation-class.html">GroupAnnotation</a></code>,
<code><a href="ImageAnnotation-class.html">ImageAnnotation</a></code>, <code><a href="NumericAnnotation-class.html">NumericAnnotation</a></code></p>
    </div>
    <div id="slots">
    <h2>Slots</h2>


<dl><dt><code>area</code></dt>
<dd><p>list. A named list of data.frames with the numeric variables <em>x_orig</em> and <em>y_orig</em>.
Observations correspond to the vertices of the polygons that are needed to represent the
spatial annotation. <strong>Must</strong> contain a slot named <em>outer</em> which sets the outer border
of the spatial annotation. <strong>Can</strong> contain multiple slots named <em>inner</em> (suffixed)
with numbers that correspond to inner polygons - holes within the annotation.</p>
<p>Upon extraction via <code><a href="getSpatAnnOutlineDf.html">getSpatAnnOutlineDf()</a></code> or extraction of the whole annotation
via <code><a href="getSpatialAnnotation.html">getSpatialAnnotation()</a></code> and <code><a href="getSpatialAnnotations.html">getSpatialAnnotations()</a></code> the variables <em>x</em> and <em>y</em>
are created by scaling <em>x_orig</em> and <em>y_orig</em> to the current resolution of the
active image to ensure alignment. This is achieved by using the <em>coords</em> scale factor
of the listslot @scale_factors of the <code><a href="HistoImage-class.html">HistoImage</a></code> object of the active image.</p></dd>


<dt><code>id</code></dt>
<dd><p>character. String to identify the object in a list of multiple objects
of the same class.</p></dd>


<dt><code>image</code></dt>
<dd><p>A cropped version of an image that focuses solely on the area containing the
annotation, along with an expansion margin. This slot is designed to remain
empty until the annotation object is explicitly extracted or used, contributing to efficient
data storage. Extraction through functions like <code><a href="getSpatialAnnotation.html">getSpatialAnnotation()</a></code> or
<code><a href="getSpatialAnnotation.html">getSpatialAnnotation()</a></code> populates this slot with the cropped image. The parameters
used for cropping the image are stored in the <code>@image_info</code> slot.</p></dd>


<dt><code>image_info</code></dt>
<dd><p>A list containing information related to the image stored in the @image slot.
This information pertains to the cropped image obtained and set using functions like
<code><a href="getSpatialAnnotation.html">getSpatialAnnotation()</a></code> or <code><a href="getSpatialAnnotations.html">getSpatialAnnotations()</a></code>. It serves as metadata
around the cropped image and may include parameters or details about the cropping process.</p></dd>


<dt><code>misc</code></dt>
<dd><p>list. A flexible list for miscellaneous input such as meta data
or to implement new ideas..</p></dd>


<dt><code>sample</code></dt>
<dd><p>Character string. The sample to which the annotation belongs.</p></dd>


<dt><code>tags</code></dt>
<dd><p>character. Vector of arbitrary length. Contains tags that can be used
to group and select spatial annotations in different manners.</p></dd>


<dt><code>version</code></dt>
<dd><p>A list of three slots denoting the version of <code>SPATA2</code> under
which the object has been created.</p></dd>


</dl></div>
    <div id="selection-of-spatial-annotations">
    <h2>Selection of spatial annotations</h2>



<p>Selection of spatial annotations via the arguments <code>ids</code>, <code>class</code>, <code>tags</code> and
<code>test</code> works in three steps:</p>
<p>First, if <code>ids</code> is a character it prefilters the annotations by ID and only
the specified ones are submitted to the next steps. If it is <code>NULL</code>, all
annotations are submitted to the next steps.</p>
<p>Secondd, if <code>class</code> is a character it filters the annotations remaining
after the first step by their class. If <code>NULL</code>, the step is skipped.</p>
<p>Third, if <code>tags</code> is a character it is used in combination with <code>test</code> to select
from the spatial annotations that remain after the second step based on the meta data
they are tagged with. There are multiple options:</p><ol><li><p>Argument <code>test</code> set to <em>'any'</em> or <em>1</em>: To be included, an image annotation
must be tagged with at least one of the input tags.</p></li>
<li><p>Argument <code>test</code> set to <em>'all'</em> or <em>2</em>: To be included, an image annotation
must be tagged with all of the input tags. Can contain tags that are not specified.</p></li>
<li><p>Argument <code>test</code> set to <em>'identical'</em> or <em>3</em>: To be included, an image annotation
must be tagged with all of the input tags. Can not be tagged with anything else.</p></li>
<li><p>Argument <code>test</code> set to <em>not_identical</em> or <em>4</em>: To be included, an image
annotation must <strong>not</strong> be tagged with the combination of input tags.</p></li>
<li><p>Argument <code>test</code> set to <em>'none'</em> or <em>5</em>: To be included, an image annotation
must <strong>not</strong> contain any of the input tags.</p></li>
</ol><p>If <code>tags</code> is <code>NULL</code>, the step is skipped. Therefore, if <code>ids</code>, <code>class</code> and <code>tags</code>
are all NULL, which is the default, all annotations are selected as all subsetting
steps are skipped. Eventually, the remaining spatial annotations are submitted to
whatever the respective function does.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>The following functions can be used to create spatial annotations:</p>
<ul><li><p><code><a href="addSpatialAnnotation.html">addSpatialAnnotation()</a></code>: Based on polygon input.</p></li>
<li><p><code><a href="barcodesToSpatialAnnotation.html">barcodesToSpatialAnnotation()</a></code>:Based on the spatial extent of a
set of data points identified by the input barcodes.</p></li>
<li><p><code><a href="createGroupAnnotations.html">createGroupAnnotations()</a></code>: Based on the spatial extent of one or more
groups of data points. Uses <code><a href="barcodesToSpatialAnnotation.html">barcodesToSpatialAnnotation()</a></code></p></li>
<li><p><code><a href="createImageAnnotations.html">createImageAnnotations()</a></code>: Based on interactive drawing
on images.</p></li>
<li><p><code><a href="createNumericAnnotations.html">createNumericAnnotations()</a></code>: Based on the expression of numeric
features such as gene expression, read counts, copy number alterations, etc.
Uses <code><a href="barcodesToSpatialAnnotation.html">barcodesToSpatialAnnotation()</a></code></p></li>
</ul></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jan Kueckelhaus, Dieter-Henrik Heiland.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

