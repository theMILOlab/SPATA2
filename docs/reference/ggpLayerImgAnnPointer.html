<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Add pointer towards image annotations — ggpLayerImgAnnPointer • SPATA2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Add pointer towards image annotations — ggpLayerImgAnnPointer"><meta property="og:description" content="Adds segments and, if desired, labels to the surface plot that
point towards and highlight the position of image annotations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SPATA2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/spata-v2-installation.html">Installation</a>
</li>
<li>
  <a href="../articles/spata-v2-spata-data.html">SPATAData</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Around the spata2 object</li>
    <li>
      <a href="../articles/spata-v2-object-initiation-and-manipulation.html">Object Set Up and Manipulation</a>
    </li>
    <li>
      <a href="../articles/spata-v2-platform-compatibility.html">Platform Compatibility</a>
    </li>
    <li>
      <a href="../articles/spata-v2-autoencoder.html">Autoencoder</a>
    </li>
    <li>
      <a href="../articles/spata-v2-genes-gene-sets-and-features.html">Genes, Gene Sets and Features</a>
    </li>
    <li class="dropdown-header">Image Analysis</li>
    <li>
      <a href="../articles/spata-v2-image-handling.html">Image Handling</a>
    </li>
    <li>
      <a href="../articles/spata-v2-image-annotations.html">Image Annotations</a>
    </li>
    <li>
      <a href="../articles/spata-v2-spatial-segmentation.html">Spatial Segmentation</a>
    </li>
    <li class="dropdown-header">Analysis of Gene Expression</li>
    <li>
      <a href="../articles/spata-v2-cnv-analysis.html">Copy Number Variations</a>
    </li>
    <li>
      <a href="../articles/spata-v2-clustering.html">Clustering</a>
    </li>
    <li>
      <a href="../articles/spata-v2-dea.html">Differential Expression</a>
    </li>
    <li>
      <a href="../articles/spata-v2-gsea.html">Gene Set Enrichment</a>
    </li>
    <li class="dropdown-header">Expression Gradients &amp; Gradient Screening</li>
    <li>
      <a href="../articles/spata-v2-spatial-trajectories.html">Spatial Trajectories</a>
    </li>
    <li>
      <a href="../articles/spata-v2-spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li>
      <a href="../articles/spata-v2-image-annotation-screening.html">Image Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/spata-v2-scd.html">Integrate Single Cell Deconvolution</a>
    </li>
    <li class="dropdown-header">Visualization</li>
    <li>
      <a href="../articles/spata-v2-plotting-surface.html">Surface Plotting</a>
    </li>
    <li>
      <a href="../articles/spata-v2-plotting-misc.html">Miscellaneous</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Code &amp; Concept
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/cc-spatial-measures.html">Spatial Measures</a>
    </li>
    <li>
      <a href="../articles/cc-spatial-segmentation-vs-image-annotations.html">Spatial Segmentation vs. Image Annotations</a>
    </li>
    <li>
      <a href="../articles/cc-spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li>
      <a href="../articles/cc-image-annotation-screening.html">Image Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/cc-model-fitting-in-spatial-transcriptomic-studies.html">Model Fitting</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add pointer towards image annotations</h1>
    
    <div class="hidden name"><code>ggpLayerImgAnnPointer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds segments and, if desired, labels to the surface plot that
point towards and highlight the position of image annotations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ggpLayerImgAnnPointer</span><span class="op">(</span>
  <span class="va">object</span>,
  ids <span class="op">=</span> <span class="cn">NULL</span>,
  tags <span class="op">=</span> <span class="cn">NULL</span>,
  test <span class="op">=</span> <span class="st">"any"</span>,
  color_by <span class="op">=</span> <span class="cn">NULL</span>,
  ptr_angles <span class="op">=</span> <span class="fl">45</span>,
  ptr_labels <span class="op">=</span> <span class="cn">NULL</span>,
  ptr_lengths <span class="op">=</span> <span class="st">"250um"</span>,
  ptr_alpha <span class="op">=</span> <span class="fl">0.9</span>,
  ptr_arrow <span class="op">=</span> <span class="cn">NULL</span>,
  ptr_color <span class="op">=</span> <span class="st">"black"</span>,
  ptr_size <span class="op">=</span> <span class="fl">1</span>,
  text_alpha <span class="op">=</span> <span class="fl">0.9</span>,
  text_color <span class="op">=</span> <span class="st">"black"</span>,
  text_dist <span class="op">=</span> <span class="fl">0</span>,
  text_nudge_x <span class="op">=</span> <span class="fl">0</span>,
  text_nudge_y <span class="op">=</span> <span class="fl">0</span>,
  text_size <span class="op">=</span> <span class="fl">4</span>,
  point_at <span class="op">=</span> <span class="st">"center"</span>,
  seed <span class="op">=</span> <span class="cn">NULL</span>,
  clrp <span class="op">=</span> <span class="cn">NULL</span>,
  clrp_adjust <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>An object of class <code>spata2</code>.</p></dd>


<dt>ids</dt>
<dd><p>Character vector or <code>NULL</code>. If character, specifies the IDs
of the image annotations of interest. If numeric, the image annotations are picked by number.
If <code>NULL</code>, all image annotations are included - subsequent selection with <code>tags</code> and
<code>test</code> is possible.</p></dd>


<dt>tags</dt>
<dd><p>Character vector or <code>NULL</code>. If character, the tags for the image annotation
selection. See section <em>Selection of image annotation with tags</em> for more information.</p></dd>


<dt>test</dt>
<dd><p>Character value. One of <em>any</em>. <em>all</em>, <em>identical</em>, <em>not_identical</em> and
<em>none</em>. Specifies how input for <code>tags</code> is used to select image annotations.
See section <em>Selection of image annotation with tags</em> for more information.</p></dd>


<dt>color_by</dt>
<dd><p>Character value or <code>NULL</code>. If character, one of <em>'id'</em> or <em>'label'</em>
which colors the the pointers accordingly.</p></dd>


<dt>ptr_angles, ptr_lengths</dt>
<dd><p>Numeric value of length 1 or of length equal to the number
of image annotations. Specifies the angle from which the segments points
towards the image annotation as well as their length. <code>ptr_lengths</code> works
within the SPATA2 distance framework. See section <em>Distance measures</em> for more
information.</p></dd>


<dt>ptr_labels</dt>
<dd><p>Specifies if and how the pointers are labeled. If <code>NULL</code>,
the default, the image annotations are labeled by their ID. If character,
specifies the exact label of each image annotation and should be of length 1
or of length equal to the number of image annotations. If <code>FALSE</code>, no text
is displayed.</p></dd>


<dt>ptr_alpha</dt>
<dd><p>Numeric value. Specifies the transparency of the pointers.</p></dd>


<dt>ptr_arrow</dt>
<dd><p><code>NULL</code> or <code>arrow</code> as displayed by <code><a href="https://rdrr.io/r/grid/arrow.html" class="external-link">grid::arrow()</a></code>.</p></dd>


<dt>ptr_color</dt>
<dd><p>Character value. Specifies the color of the pointers if
<code>color_by</code> is not a character.</p></dd>


<dt>ptr_size</dt>
<dd><p>Numeric value. Specifies the size (thickness) of the pointers.</p></dd>


<dt>text_dist</dt>
<dd><p>Distance measure. Specifies the distance from the text to
the pointer.</p></dd>


<dt>point_at</dt>
<dd><p>Character value. If <em>'center'</em>, the pointer is directed at
the center of the image annotation. If <em>'border'</em>, the pointer points
at a random point of the image annotation border - recommended if the
image annotation is big.</p></dd>


<dt>seed</dt>
<dd><p>Numeric value or <code>NULL</code>. If numeric, sets seed before picking
a random point of the image annotation border if <code>point_at = 'border'</code>.</p></dd>


<dt>clrp</dt>
<dd><p>Character value. Specifies the color palette to be used to represent
groups of discrete variables. Run <code><a href="validActivationFunctions.html">validColorPalettes()</a></code> to obtain valid
input options.</p></dd>


<dt>clrp_adjust</dt>
<dd><p>Named character vector or NULL. If character, it adjusts the
color palette that is used to represent the groups. Names of the input vector must refer
to the group and the respective named element denotes the color with which to
represent the group.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>ggpLayer*()</code>-functions return lists of <code>ggproto</code> objects
that can be added to ggplots via the <code>+</code> operator. In most of the cases
they are supposed to be added to plots created with the <code>plotSurface*()</code></p>


<p>family.</p>
    </div>
    <div id="distance-measures">
    <h2>Distance measures</h2>
    


<p>Several functions in <code>SPATA2</code> have arguments that take <em>distance input</em>.
To specifically refer to a distance the unit must be specified. There are
three ways to create valid input for these arguments.</p>
<p><strong>1. In pixel:</strong></p>
<p>There are two valid input options to specify the distance in pixel:</p>
<ul><li><p>numeric: Single numeric values, e.g. <code>arg_input = c(2, 3.554, 69, 100.67)</code>. If no unit
is specified the input will be interpreted as pixels.</p></li>
<li><p>character: Suffixed with <em>'px'</em>, e.g. <code>arg_input = c('2px', '3.554px', '69px', '100.67px')</code></p></li>
</ul><p>Note: The unit pixel (px) is used for distances as well as for areas. If pixel
refers to a distance the pixel side length is meant. If pixel refers to an area the
number of pixels is meant.</p>
<p><strong>2. According to the Systeme international d`unites (SI):</strong></p>
<p>Specifying distances in SI units e.g. <code>arg_input = c('2mm', '4mm')</code> etc.
requires the input to be a character as the unit must be provided as suffix.
Between the numeric value and the unit must be no empty space! Valid suffixes
can be obtained using the function <code><a href="validActivationFunctions.html">validUnitsOfLengthSI()</a></code>.</p>
<p><strong>3. As vectors of class <code>unit</code>:</strong></p>
<p>Behind the scenes <code>SPATA2</code> works with the <code>units</code> package. Input
is converted into vectors of class <code>units</code>. Therefore, input can be directly
provided this way: <code>arg_input = units::set_unit(x = c(2,4), value = 'mm')</code>
Note that <em>pixel</em> is not a valid unit in the <code>units</code> package. If you want
to specify the input in pixel you have to use input option 1. In pixel.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jan Kueckelhaus, Dieter-Henrik Heiland, Simon Frerich.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

