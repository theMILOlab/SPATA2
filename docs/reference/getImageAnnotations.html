<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Obtain list of ImageAnnotation-objects — getImageAnnotations • SPATA2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Obtain list of ImageAnnotation-objects — getImageAnnotations"><meta property="og:description" content="Extracts a list of objects of class ImageAnnotaion."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SPATA2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/spata-v2-installation.html">Installation</a>
</li>
<li>
  <a href="../articles/spata-v2-spata-data.html">SPATAData</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Around the spata2 object</li>
    <li>
      <a href="../articles/spata-v2-object-initiation-and-manipulation.html">Object Set Up and Manipulation</a>
    </li>
    <li>
      <a href="../articles/spata-v2-platform-compatibility.html">Platform Compatibility</a>
    </li>
    <li>
      <a href="../articles/spata-v2-autoencoder.html">Autoencoder</a>
    </li>
    <li>
      <a href="../articles/spata-v2-genes-gene-sets-and-features.html">Genes, Gene Sets and Features</a>
    </li>
    <li class="dropdown-header">Image Analysis</li>
    <li>
      <a href="../articles/spata-v2-image-handling.html">Image Handling</a>
    </li>
    <li>
      <a href="../articles/spata-v2-image-annotations.html">Image Annotations</a>
    </li>
    <li>
      <a href="../articles/spata-v2-spatial-segmentation.html">Spatial Segmentation</a>
    </li>
    <li class="dropdown-header">Analysis of Gene Expression</li>
    <li>
      <a href="../articles/spata-v2-cnv-analysis.html">Copy Number Variations</a>
    </li>
    <li>
      <a href="../articles/spata-v2-clustering.html">Clustering</a>
    </li>
    <li>
      <a href="../articles/spata-v2-dea.html">Differential Expression</a>
    </li>
    <li>
      <a href="../articles/spata-v2-gsea.html">Gene Set Enrichment</a>
    </li>
    <li class="dropdown-header">Expression Gradients &amp; Gradient Screening</li>
    <li>
      <a href="../articles/spata-v2-spatial-trajectories.html">Spatial Trajectories</a>
    </li>
    <li>
      <a href="../articles/spata-v2-spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li>
      <a href="../articles/spata-v2-image-annotation-screening.html">Image Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/spata-v2-scd.html">Integrate Single Cell Deconvolution</a>
    </li>
    <li class="dropdown-header">Visualization</li>
    <li>
      <a href="../articles/spata-v2-plotting-surface.html">Surface Plotting</a>
    </li>
    <li>
      <a href="../articles/spata-v2-plotting-misc.html">Miscellaneous</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Code &amp; Concept
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/cc-spatial-measures.html">Spatial Measures</a>
    </li>
    <li>
      <a href="../articles/cc-spatial-segmentation-vs-image-annotations.html">Spatial Segmentation vs. Image Annotations</a>
    </li>
    <li>
      <a href="../articles/cc-spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li>
      <a href="../articles/cc-image-annotation-screening.html">Image Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/cc-model-fitting-in-spatial-transcriptomic-studies.html">Model Fitting</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtain list of <code>ImageAnnotation</code>-objects</h1>
    
    <div class="hidden name"><code>getImageAnnotations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extracts a list of objects of class <code>ImageAnnotaion</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">getImageAnnotations</span><span class="op">(</span>
  <span class="va">object</span>,
  ids <span class="op">=</span> <span class="cn">NULL</span>,
  tags <span class="op">=</span> <span class="cn">NULL</span>,
  test <span class="op">=</span> <span class="st">"any"</span>,
  add_barcodes <span class="op">=</span> <span class="cn">TRUE</span>,
  strictly <span class="op">=</span> <span class="cn">FALSE</span>,
  add_image <span class="op">=</span> <span class="cn">TRUE</span>,
  expand <span class="op">=</span> <span class="fl">0</span>,
  square <span class="op">=</span> <span class="cn">FALSE</span>,
  flatten <span class="op">=</span> <span class="cn">FALSE</span>,
  check <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>An object of class <code>spata2</code>.</p></dd>


<dt>ids</dt>
<dd><p>Character vector or <code>NULL</code>. If character, specifies the IDs
of the image annotations of interest. If numeric, the image annotations are picked by number.
If <code>NULL</code>, all image annotations are included - subsequent selection with <code>tags</code> and
<code>test</code> is possible.</p></dd>


<dt>tags</dt>
<dd><p>Character vector or <code>NULL</code>. If character, the tags for the image annotation
selection. See section <em>Selection of image annotation with tags</em> for more information.</p></dd>


<dt>test</dt>
<dd><p>Character value. One of <em>any</em>. <em>all</em>, <em>identical</em>, <em>not_identical</em> and
<em>none</em>. Specifies how input for <code>tags</code> is used to select image annotations.
See section <em>Selection of image annotation with tags</em> for more information.</p></dd>


<dt>add_barcodes</dt>
<dd><p>Logical. If <code>TRUE</code>, barcodes of spots that fall into the
area of an image annotation are identified and added to slot @misc$barcodes
of the output image annotations.</p></dd>


<dt>strictly</dt>
<dd><p>Logical. If <code>TRUE</code>, only barcodes of spots that are strictly interior
to the area of an image annotation are added to the output. If <code>FALSE</code>,
barcodes of spots that are on the relative interior of the area or are
vertices of the border are added, too.</p></dd>


<dt>add_image</dt>
<dd><p>Logical. If TRUE, the area of the histology image that
is occupied by the annotated structure is added to the <code>ImageAnnotation</code>
object in slot @image. Dimensions of the image can be adjusted with <code>square</code>
and <code>expand</code>.</p></dd>


<dt>expand</dt>
<dd><p>Specifies image expansion. An image that is cropped based on an image
annotation centers around the image annotation. If <code>expand = 0</code>, the default, the dimensions of the image,
that is width/x-axis and height/y-axis, are set to include only the image annotation area
and nothing more. Using <code>expand</code>, the cropped image section can be adjusted. See section
<em>Expansion of cropped image sections</em> for more information.</p></dd>


<dt>square</dt>
<dd><p>Logical value. Most image annotations come in variable shapes and
have different horizontal and vertical diameters. Therefore, height and width of the image
section are usually not equal. If <code>square = TRUE</code>, the cropped section of the image that
contains the annotated structure is forced into a square: the bigger diameter of both is taken
as default. E.g. if the horizontal diameter of the image annotation is 1mm and the
vertical diameter is 1.5mm, the output image will have height and width of 1.5mm. That is,
in terms of coordinates, an x-range and a y-range of 1.5mm.</p>
<p>Processing of the image output depending on argument <code>expand</code> happens afterwards.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of objects of class <code>ImageAnnotation</code>.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>To test how the extracted image section looks like depending
on input for argument <code>square</code> and <code>expand</code> use
<code>plotImageAnnotations(..., encircle = FALSE)</code>.</p>
    </div>
    <div id="expansion-of-cropped-image-sections">
    <h2>Expansion of cropped image sections</h2>
    


<p>The argument <code>expand</code> is a versatile way, to specify how a cropped
image section is extracted. If you want the cropped image as is, specify
<code>expand = 0</code>. Else, there are multiple options. In general, <code>expand</code> takes
three kinds of values, namely percentages, distances and distance exclamations.</p>
<ul><li><p>Percentage: A string suffixed with <em>%</em>. E.g. <code>expand = '50%'</code>
adds 50% of the distance from the center to the border of the image annotation
to the image frame.</p></li>
<li><p>Distance measures: In pixel or European units of length. E.g. <code>expand =  list(x = '1mm')</code>
expands the x-axis on both sides with 1mm. <code>expand = list(x = c('0.5mm', 1.5mm')</code>
expands the x-axis on the left side with 0.5mm and on the right side with 1.5mm.</p></li>
<li><p>Exclam distance measures: Distance measure with an exclamation mark
suffix. E.g. <code>expand = '1mm!'</code> centers the image and forces an axis length of
1 millimeter. (Example 5)</p></li>
</ul><p>Depending on how the values are specified different parts of the image can be
expanded.</p>
<p>Single values, like <code>expand = 50</code>, are recycled: Every end of each image axis
is expanded by 50 pixel. (Example 2)</p>
<p>Vectors of length two, like <code>expand = c('1mm', '2mm')</code>, are recycled: The beginning
of each axis is expanded by 1 millimeter. The end of each axis is expanded by
2mm. (Example 3)</p>
<p>Named lists can be more precise. <code>expand = list(x = c('1mm', '0.5mm'), y = c('0.25mm', '1mm'))</code>.
Applies the vectors to expand the corresponding axis. (Example 4)</p>
<p>Using exclam input the side of the axis must not be specified as the
axis is fixed as a whole. E.g <code>expand = list(x = '1mm!', y = '2mm!')</code> results
in the same output as <code>expand = list(x = c('1mm!', '1mm!'), y = c('2mm!', '2mm!')</code>.</p>
    </div>
    <div id="selection-of-image-annotations-with-tags">
    <h2>Selection of image annotations with tags</h2>
    


<p>Input for argument <code>tags</code> specifies the tags of interest.
Argument <code>test</code> decides about how the specified tags are used to select
the image annotations of interest. There are multiple options:</p><ol><li><p>Argument <code>test</code> set to <em>'any'</em> or <em>1</em>: To be included, an image annotation
must be tagged with at least one of the input tags.</p></li>
<li><p>Argument <code>test</code> set to <em>'all'</em> or <em>2</em>: To be included, an image annotation
must be tagged with all of the input tags. Can contain tags that are not specified.</p></li>
<li><p>Argument <code>test</code> set to <em>'identical'</em> or <em>3</em>: To be included, an image annotation
must be tagged with all of the input tags. Can not be tagged with anything else.</p></li>
<li><p>Argument <code>test</code> set to <em>not_identical</em> or <em>4</em>: To be included, an image
annotation must <strong>not</strong> be tagged with the combination of input tags.</p></li>
<li><p>Argument <code>test</code> set to <em>'none'</em> or <em>5</em>: To be included, an image annotation
must <strong>not</strong> contain any of the input tags.</p></li>
</ol><p>Note that the filtering process happens after the filtering by input for argument
<code>ids</code>. You can first select a group of image annotations by naming their IDs
and then select among them via tags and test. If <code>ids</code> is <code>NULL</code>, you select
among all image annotations via tags and test. And if <code>tags</code> is also <code>NULL</code>,
the function uses all image annoations.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jan Kueckelhaus, Dieter-Henrik Heiland, Simon Frerich.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

