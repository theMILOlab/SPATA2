<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Handling â€¢ SPATA2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Image Handling">
<meta property="og:description" content="SPATA2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SPATA2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/spata-v2-installation.html">Installation</a>
</li>
<li>
  <a href="../articles/spata-v2-spata-data.html">SPATAData</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Around the spata2 object</li>
    <li>
      <a href="../articles/spata-v2-object-initiation-and-manipulation.html">Object Set Up and Manipulation</a>
    </li>
    <li>
      <a href="../articles/spata-v2-platform-compatibility.html">Platform Compatibility</a>
    </li>
    <li>
      <a href="../articles/spata-v2-autoencoder.html">Autoencoder</a>
    </li>
    <li>
      <a href="../articles/spata-v2-genes-gene-sets-and-features.html">Genes, Gene Sets and Features</a>
    </li>
    <li class="dropdown-header">Image Analysis</li>
    <li>
      <a href="../articles/spata-v2-image-handling.html">Image Handling</a>
    </li>
    <li>
      <a href="../articles/spata-v2-image-annotations.html">Image Annotations</a>
    </li>
    <li>
      <a href="../articles/spata-v2-spatial-segmentation.html">Spatial Segmentation</a>
    </li>
    <li class="dropdown-header">Analysis of Gene Expression</li>
    <li>
      <a href="../articles/spata-v2-cnv-analysis.html">Copy Number Variations</a>
    </li>
    <li>
      <a href="../articles/spata-v2-clustering.html">Clustering</a>
    </li>
    <li>
      <a href="../articles/spata-v2-dea.html">Differential Expression</a>
    </li>
    <li>
      <a href="../articles/spata-v2-gsea.html">Gene Set Enrichment</a>
    </li>
    <li class="dropdown-header">Expression Gradients &amp; Gradient Screening</li>
    <li>
      <a href="../articles/spata-v2-spatial-trajectories.html">Spatial Trajectories</a>
    </li>
    <li>
      <a href="../articles/spata-v2-spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li>
      <a href="../articles/spata-v2-image-annotation-screening.html">Image Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/spata-v2-scd.html">Integrate Single Cell Deconvolution</a>
    </li>
    <li class="dropdown-header">Visualization</li>
    <li>
      <a href="../articles/spata-v2-plotting-surface.html">Surface Plotting</a>
    </li>
    <li>
      <a href="../articles/spata-v2-plotting-misc.html">Miscellaneous</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Code &amp; Concept
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cc-spatial-measures.html">Spatial Measures</a>
    </li>
    <li>
      <a href="../articles/cc-spatial-segmentation-vs-image-annotations.html">Spatial Segmentation vs. Image Annotations</a>
    </li>
    <li>
      <a href="../articles/cc-spatial-trajectory-screening.html">Spatial Trajectory Screening</a>
    </li>
    <li>
      <a href="../articles/cc-image-annotation-screening.html">Image Annotation Screening</a>
    </li>
    <li>
      <a href="../articles/cc-model-fitting-in-spatial-transcriptomic-studies.html">Model Fitting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Image Handling</h1>
            
      
      
      <div class="hidden name"><code>spata-v2-image-handling.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="prerequisites">1. Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<p>None.</p>
</div>
<div class="section level2">
<h2 id="introduction">2. Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Spatial transcriptomic output comes with a histology image of the
dissolved tissue. Apart from visualization of barcode-spot features on
the image SPATA2 offers many functions for histology specific analysis.
Therefore, detailed interaction between image dimensions and extent and
barcode-spot positions in form of data coordinates is required.</p>
<p>This vignette is split in two parts. The first one introduces the
basic functions that ensure alignment between image and barcode-spot
coordinates and that allow to exchange low- and high resolution image
that come with any 10X Visium output.</p>
<p>The second part goes beyond what is necessary to deal with the 10X
Visium output and explains in depth how images are stored and dealt
with.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://themilolab.com/" class="external-link">SPATA2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">SPATAData</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span>

<span class="fu">download_example</span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"dir_to_example_folder"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-image-handling">3. Basic image handling<a class="anchor" aria-label="anchor" href="#basic-image-handling"></a>
</h2>
<p>The easiest way to load the images of the spatial-folder from the 10X
Visium output in the <code>spata2</code> object is to use the
<code><a href="../reference/initiateSpataObject_10X.html">initiateSpataObject_10X()</a></code>. It handles everything. Click <a href="https://www.dropbox.com/scl/fo/iqh5eyp3kg7gatdj6hqhn/h?dl=0&amp;rlkey=l3abf2g8k1swcfio3efybu9au" class="external-link">here</a>
to download the <em>outs</em> folder of the sample #UKF336, a primary
glioblastoma, which will be used throughout this vignette.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># unzip the downloaded folder and store it under this directory</span>
<span class="co"># (alternatively change the code and adjust it to the directory of your choice)</span>
<span class="va">directory_to_10X</span> <span class="op">&lt;-</span> <span class="st">"data\\Visium10X\\#UKF313_T_P\\"</span>

<span class="va">object_t336</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/initiateSpataObject_10X.html">initiateSpataObject_10X</a></span><span class="op">(</span>
    directory_10X <span class="op">=</span> <span class="va">directory_to_10X</span>, 
    sample_name <span class="op">=</span> <span class="st">"UKF336T"</span>, 
    image_name <span class="op">=</span> <span class="st">"tissue_lowres_image.png"</span> <span class="co"># defaults to "tissue_lowres_image.png"</span>
  <span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="extracting-image-data">3.1 Extracting image data<a class="anchor" aria-label="anchor" href="#extracting-image-data"></a>
</h3>
<p>To obtain the image, that is currently set as well as meta
information there exist several functions prefixed with
<code>getImage*()</code>. To name a few:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># the image </span>
<span class="fu"><a href="../reference/getImage.html">getImage</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>
<span class="co">## Image </span>
<span class="co">##   colorMode    : Color </span>
<span class="co">##   storage.mode : double </span>
<span class="co">##   dim          : 572 600 3 </span>
<span class="co">##   frames.total : 3 </span>
<span class="co">##   frames.render: 1 </span>
<span class="co">## </span>
<span class="co">## imageData(object)[1:5,1:6,1]</span>
<span class="co">##           [,1]      [,2]      [,3]      [,4]      [,5]      [,6]</span>
<span class="co">## [1,] 0.9647059 0.9647059 0.9647059 0.9647059 0.9647059 0.9647059</span>
<span class="co">## [2,] 0.9647059 0.9647059 0.9647059 0.9647059 0.9647059 0.9647059</span>
<span class="co">## [3,] 0.9647059 0.9607843 0.9647059 0.9647059 0.9647059 0.9647059</span>
<span class="co">## [4,] 0.9647059 0.9647059 0.9647059 0.9647059 0.9647059 0.9647059</span>
<span class="co">## [5,] 0.9647059 0.9647059 0.9647059 0.9647059 0.9686275 0.9686275</span>

<span class="co"># image dimensions in width, height and colors</span>
<span class="fu"><a href="../reference/getImageDims.html">getImageDims</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>
<span class="co">## [1] 572 600   3</span>

<span class="co"># image range in terms of data coordinates</span>
<span class="fu"><a href="../reference/getImageDims.html">getImageRange</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>
<span class="co">## $x</span>
<span class="co">## [1]   0 572</span>
<span class="co">## </span>
<span class="co">## $y</span>
<span class="co">## [1]   0 600</span>

<span class="co"># directory / object from where the currently set image was read in </span>
<span class="fu"><a href="../reference/getImageOrigin.html">getImageOrigin</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>
<span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span></code></pre></div>
<p>Normally, image and coordinates are perfectly aligned after reading
everything in.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">object_t336</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-5-1.png" alt="Fig.1 Image and coordinates are perfectly aligned." width="100%"><p class="caption">
Fig.1 Image and coordinates are perfectly aligned.
</p>
</div>
<p>If this is not the case with your sample check out section <em>4.
Spatial transformations</em> of this vignette to read more about how
<code>SPATA2</code> deals with spatial linear image transformations.</p>
</div>
<div class="section level3">
<h3 id="high-and-low-resolution">3.2 High and low resolution<a class="anchor" aria-label="anchor" href="#high-and-low-resolution"></a>
</h3>
<p>Every spatial folder contains at least two images usually named
<em>tissue_lowres_image.png</em> and <em>tissue_highres_image.png</em>.
A <code>spata2</code> object only carries one image at a time. It
defaults to read in the low resolution image. To facilitate switching
between high and low resolution image specific directories can be stored
in the <code>spata2</code> object.
<code><a href="../reference/initiateSpataObject_10X.html">initiateSpataObject_10X()</a></code> automatically sets the
directories for low resolution and high resolution.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/getImageDirLowres.html">getImageDirLowres</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/getImageDirLowres.html">getImageDirHighres</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_hires_image.png"</span></code></pre>
<p>The source of the image that is currently read in can be obtained via
<code><a href="../reference/getImageOrigin.html">getImageOrigin()</a></code>. To switch between image versions use the
<code>loadImage*()</code> functions.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">high_res_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadImageLowres.html">loadImageHighres</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>

<span class="va">high_res_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">high_res_obj</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>

<span class="va">low_res_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadImageLowres.html">loadImageLowres</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>

<span class="va">low_res_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">low_res_obj</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>

<span class="co"># plot results </span>
<span class="va">high_res_img</span> <span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"High res."</span><span class="op">)</span>

<span class="va">low_res_img</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Low res."</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-7-1.png" alt="Fig.2 The same image in different resolutions. `loadImage*()` takes care of the alignment." width="50%"><img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-7-2.png" alt="Fig.2 The same image in different resolutions. `loadImage*()` takes care of the alignment." width="50%"><p class="caption">
Fig.2 The same image in different resolutions. <code>loadImage*()</code>
takes care of the alignment.
</p>
</div>
<p>Note: Different image resolutions come with a different number of
pixels. Coordinate based data such as coordinates of the barcode-spots,
spatial trajectories, image annotations etc. have to be scaled and the
<a href="cc-spatial-measures.html">pixel scale factor</a> must be
adjusted. The <code>loadImage*()</code> functions do that
automatically!</p>
</div>
<div class="section level3">
<h3 id="additional-images">3.3 Additional images<a class="anchor" aria-label="anchor" href="#additional-images"></a>
</h3>
<p>Different imaging techniques allow to store more than just images of
different resolution. In our example, we imaged the tissue immediately
after surgical extraction with RAMAN spectroscopy. To store directories
of additional images to the images the <code>spata2</code> objects knows
use the <code><a href="../reference/addImageDir.html">addImageDir()</a></code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/addImageDir.html">addImageDir</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336</span>, 
    dir <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="va">directory_to_10X</span>, <span class="st">"\\spatial\\raman_tissue_hires_image.tif"</span><span class="op">)</span>, 
    name <span class="op">=</span> <span class="st">"raman_spectr"</span>
  <span class="op">)</span></code></pre></div>
<p>In general, all directories known to the <code>spata2</code> object
can be obtained via <code><a href="../reference/getImageDirLowres.html">getImageDirectories()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/getImageDirLowres.html">getImageDirectories</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##                                                                     default </span>
<span class="co">##        "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png" </span>
<span class="co">##                                                                      lowres </span>
<span class="co">##        "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png" </span>
<span class="co">##                                                                     highres </span>
<span class="co">##         "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_hires_image.png" </span>
<span class="co">##                                                                raman_spectr </span>
<span class="co">## "data\\Visium10X\\#UKF336_T_P\\outs\\spatial\\raman_tissue_hires_image.tif"</span></code></pre>
<p>To use load them as the current background image use
<code><a href="../reference/loadImageLowres.html">loadImage()</a></code> and refer to them by name.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadImageLowres.html">loadImage</a></span><span class="op">(</span><span class="va">object_t336</span>, name <span class="op">=</span> <span class="st">"raman_spectr"</span><span class="op">)</span>

<span class="va">raman_image</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/plotImageGgplot.html">plotImageGgplot</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336</span>,
    unit <span class="op">=</span> <span class="st">"mm"</span>, 
    xrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1.5mm"</span>, <span class="st">"6.5mm"</span><span class="op">)</span>,
    yrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1.5mm"</span>, <span class="st">"6.5mm"</span><span class="op">)</span>
    <span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Image zoomed in"</span><span class="op">)</span>

<span class="va">raman_surface</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">object_t336</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Image with barcode spots"</span><span class="op">)</span>

<span class="co"># plot results</span>
<span class="va">raman_image</span>

<span class="va">raman_surface</span> <span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span><span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"RAMAN Spectroscopy"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-10-1.png" alt="Fig.3 Different images of the same tissue." width="50%"><img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-10-2.png" alt="Fig.3 Different images of the same tissue." width="50%"><p class="caption">
Fig.3 Different images of the same tissue.
</p>
</div>
<p>To go back to the image you initiated the object with use
<code><a href="../reference/loadImageLowres.html">loadImageDefault()</a></code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadImageLowres.html">loadImageDefault</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>

<span class="fu"><a href="../reference/getImageOrigin.html">getImageOrigin</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="spatial-transformations">4. Spatial transformations<a class="anchor" aria-label="anchor" href="#spatial-transformations"></a>
</h2>
<p>To align image and barcode-spot coordinates spatial transformations
such as flipping, rotating and scaling might become necessary.</p>
<div class="section level3">
<h3 id="applying-transformation-of-images">4.1 Applying transformation of images<a class="anchor" aria-label="anchor" href="#applying-transformation-of-images"></a>
</h3>
<p>To align an image with coordinates spatial transformation can become
necessary. The <code><a href="../reference/flipAll.html">flipImage()</a></code>, <code><a href="../reference/rotateAll.html">rotateImage()</a></code>
functions do that. Note that the
<code>&lt;transformation&gt;Image()</code> functions only affect the
image! In case of already aligned image and coordinates a simple call to
<code>&lt;transformation&gt;Image()</code> interferes with the
alignment.</p>
<div class="section level4">
<h4 id="flipping">4.1.1 Flipping<a class="anchor" aria-label="anchor" href="#flipping"></a>
</h4>
<p>To show the usage of <code><a href="../reference/flipAll.html">flipImage()</a></code> we read in a badly
aligned image. Note that <code><a href="../reference/exchangeImage.html">exchangeImage()</a></code> is the working
horse behind all <code>loadImage*()</code> functions. It reads in the
image and performs all the necessary transformation and scaling step to
keep image and coordinates aligned.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create bad alignment manually</span>
<span class="va">object_t336_flipped_bad</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/exchangeImage.html">exchangeImage</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336</span>,
    image <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="va">directory_to_10X</span>, <span class="st">"\\spatial\\tissue_lowres_image_bad_alignment_flipped.png"</span><span class="op">)</span>
    <span class="op">)</span>

<span class="co"># image is flipped and not aligned with coordinates</span>
<span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">object_t336_flipped_bad</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-12-1.png" alt="Fig.4 Image is not aligned with coordinates and must be flipped along the vertical axis." width="100%"><p class="caption">
Fig.4 Image is not aligned with coordinates and must be flipped along
the vertical axis.
</p>
</div>
<p>Applying <code><a href="../reference/flipAll.html">flipImage()</a></code> on a bad aligned image fixes the
alignment.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336_flipped_fixed</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/flipAll.html">flipImage</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336_flipped_bad</span>,
    axis <span class="op">=</span> <span class="st">"vertical"</span>
    <span class="op">)</span>

<span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">object_t336_flipped_fixed</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-13-1.png" alt="Fig.5 Image and coordinates are aligned after spatial transformation." width="100%"><p class="caption">
Fig.5 Image and coordinates are aligned after spatial transformation.
</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="spatial-transformation-of-the-whole-object">4.2 Spatial transformation of the whole object<a class="anchor" aria-label="anchor" href="#spatial-transformation-of-the-whole-object"></a>
</h3>
<p>Assuming that image and coordinates are aligned you <strong>do
not</strong> want to use <code><a href="../reference/flipAll.html">flipImage()</a></code> to change the
justification of the surface plots as <code><a href="../reference/flipAll.html">flipImage()</a></code> only
flips the image and lets spatial aspects as they are. To transform image
and coordinates alike use <code><a href="../reference/flipAll.html">flipAll()</a></code>,
<code><a href="../reference/rotateAll.html">rotateAll()</a></code> and <code><a href="../reference/scaleAll.html">scaleAll()</a></code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336_flipped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flipAll.html">flipAll</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">object_t336</span>, axis <span class="op">=</span> <span class="st">"horizontal"</span><span class="op">)</span>

<span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">object_t336_flipped</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-14-1.png" alt="Fig.9 The whole dataset is flipped." width="100%"><p class="caption">
Fig.9 The whole dataset is flipped.
</p>
</div>
</div>
<div class="section level3">
<h3 id="tracking-transformation-of-images">4.3 Tracking transformation of images<a class="anchor" aria-label="anchor" href="#tracking-transformation-of-images"></a>
</h3>
<p>Changes in justification of the whole object are tracked. After
initiation of the <code>spata2</code> object the justification should
look like this.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># default justification </span>
<span class="fu"><a href="../reference/getImageInfo.html">getImageInfo</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## $dim_input</span>
<span class="co">## [1] 572 600   3</span>
<span class="co">## </span>
<span class="co">## $dim_stored</span>
<span class="co">## [1] 572 600   3</span>
<span class="co">## </span>
<span class="co">## $img_scale_fct</span>
<span class="co">## [1] 1</span>
<span class="co">## </span>
<span class="co">## $origin</span>
<span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span>
<span class="co">## </span>
<span class="co">## $angle</span>
<span class="co">## [1] 0</span>
<span class="co">## </span>
<span class="co">## $flipped</span>
<span class="co">## $flipped$horizontal</span>
<span class="co">## [1] FALSE</span>
<span class="co">## </span>
<span class="co">## $flipped$vertical</span>
<span class="co">## [1] FALSE</span></code></pre>
<p>After performing spatial transformations it is tracked how the
current state of the object deviates from the starting default.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336_flipped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flipAll.html">flipAll</a></span><span class="op">(</span><span class="va">object_t336</span>, axis <span class="op">=</span> <span class="st">"horizontal"</span><span class="op">)</span>

<span class="va">img_obj_flipped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getImageObject.html">getImageObject</a></span><span class="op">(</span><span class="va">object_t336_flipped</span><span class="op">)</span>

<span class="fu"><a href="../reference/getImageInfo.html">getImageInfo</a></span><span class="op">(</span><span class="va">object_t336_flipped</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## $dim_input</span>
<span class="co">## [1] 572 600   3</span>
<span class="co">## </span>
<span class="co">## $dim_stored</span>
<span class="co">## [1] 572 600   3</span>
<span class="co">## </span>
<span class="co">## $img_scale_fct</span>
<span class="co">## [1] 1</span>
<span class="co">## </span>
<span class="co">## $origin</span>
<span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span>
<span class="co">## </span>
<span class="co">## $angle</span>
<span class="co">## [1] 0</span>
<span class="co">## </span>
<span class="co">## $flipped</span>
<span class="co">## $flipped$horizontal</span>
<span class="co">## [1] TRUE</span>
<span class="co">## </span>
<span class="co">## $flipped$vertical</span>
<span class="co">## [1] FALSE</span></code></pre>
<p>Assuming that all images that belong to the tissue are stored with
the same justification the justification state of the object can be
compared to the image that should replace the current image and it can
be adjusted automatically.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># </span>
<span class="va">object_t336_flipped_low_res</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/loadImageLowres.html">loadImageLowres</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336_flipped</span>, 
    adjust <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># defaults to TRUE. Set to FALSE if you don't want automatic adjustment</span>
    <span class="op">)</span>

<span class="co"># object image and coordinates remain flipped  </span>
<span class="fu"><a href="../reference/plotSurface.html">plotSurface</a></span><span class="op">(</span><span class="va">object_t336_flipped_low_res</span>, pt_alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerThemeCoords.html">ggpLayerThemeCoords</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-17-1.png" alt="Fig.10 The loaded image has been automatically adjusted by flipping it." width="100%"><p class="caption">
Fig.10 The loaded image has been automatically adjusted by flipping it.
</p>
</div>
</div>
<div class="section level3">
<h3 id="ensuring-alignment-between-image-and-coordinate-based-aspects">4.4 Ensuring alignment between image and coordinate based
aspects<a class="anchor" aria-label="anchor" href="#ensuring-alignment-between-image-and-coordinate-based-aspects"></a>
</h3>
<p>Tracking changes in image justification is necessary, for instance,
as coordinate based spatial aspects such as <a href="spata-v2-image-annotations.html">image annotations</a> or <a href="spata-v2-spatial-trajectories.html">spatial trajectories</a> need
to <em>know</em> in how far the current image deviates from their parent
image in terms of justification and size.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"image_annotations"</span><span class="op">)</span>

<span class="va">img_ann_mt</span> <span class="op">&lt;-</span> <span class="va">image_annotations</span><span class="op">$</span><span class="va">`336_T`</span><span class="op">$</span><span class="va">missing_tissue</span>

<span class="va">img_ann_mt</span><span class="op">@</span><span class="va">id</span>
<span class="co">## [1] "missing_tissue"</span>

<span class="co"># image annotations contain information regarding how and where they were drawn</span>
<span class="va">img_ann_mt</span><span class="op">@</span><span class="va">info</span>
<span class="co">## $parent_id</span>
<span class="co">## [1] "UKF336T"</span>
<span class="co">## </span>
<span class="co">## $parent_origin</span>
<span class="co">## [1] "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_hires_image.png"</span>
<span class="co">## </span>
<span class="co">## $current_dim</span>
<span class="co">## [1] 1908 2000</span>
<span class="co">## </span>
<span class="co">## $current_just</span>
<span class="co">## $current_just$angle</span>
<span class="co">## [1] 0</span>
<span class="co">## </span>
<span class="co">## $current_just$flipped</span>
<span class="co">## $current_just$flipped$horizontal</span>
<span class="co">## [1] TRUE</span>
<span class="co">## </span>
<span class="co">## $current_just$flipped$vertical</span>
<span class="co">## [1] FALSE</span>

<span class="va">object_t336</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadImageLowres.html">loadImageHighres</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span></code></pre></div>
<p>The image annotation was drawn on the high resolution version of the
image and it was neither flipped nor rotated. Currently the
<code>spata2</code> object contains a flipped version of the low
resolution image as is displayed below. While the image annotation is
set its properties are compared to the current image and adjusted in
terms of justification and scale.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">object_t336_not_aligned</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/setImageAnnotation.html">setImageAnnotation</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336</span>, 
    img_ann <span class="op">=</span> <span class="va">img_ann_mt</span>, 
    align <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># no alignment</span>
  <span class="op">)</span>

<span class="co"># that seems wrong </span>
<span class="va">no_alignment</span> <span class="op">&lt;-</span>   
  <span class="fu"><a href="../reference/plotImageGgplot.html">plotImageGgplot</a></span><span class="op">(</span><span class="va">object_t336_not_aligned</span>, unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span><span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerImgAnnOutline.html">ggpLayerImgAnnOutline</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">object_t336_not_aligned</span>, ids <span class="op">=</span> <span class="st">"missing_tissue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># allow plotting of observations outside of the tissue frame</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="cn">NULL</span>, ylim <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"No alignment"</span><span class="op">)</span>

<span class="va">object_t336_aligned</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/setImageAnnotation.html">setImageAnnotation</a></span><span class="op">(</span>
    object <span class="op">=</span> <span class="va">object_t336</span>, 
    img_ann <span class="op">=</span> <span class="va">img_ann_mt</span>,
    align <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># the default</span>
    overwrite <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>

<span class="co"># that seems wrong </span>
<span class="va">with_alignment</span> <span class="op">&lt;-</span>   
  <span class="fu"><a href="../reference/plotImageGgplot.html">plotImageGgplot</a></span><span class="op">(</span><span class="va">object_t336_aligned</span>, unit <span class="op">=</span> <span class="st">"px"</span><span class="op">)</span><span class="op">+</span> 
  <span class="fu"><a href="../reference/ggpLayerImgAnnOutline.html">ggpLayerImgAnnOutline</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">object_t336_aligned</span>, ids <span class="op">=</span> <span class="st">"missing_tissue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="cn">NULL</span>, ylim <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"With alignment"</span><span class="op">)</span>

<span class="co"># plot results</span>
<span class="va">no_alignment</span>
<span class="va">with_alignment</span></code></pre></div>
<div class="figure">
<img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-19-1.png" alt="Fig.11 Image annotation that is added is automatically adjusted to changes in image justification." width="50%"><img src="spata-v2-image-handling_files/figure-html/unnamed-chunk-19-2.png" alt="Fig.11 Image annotation that is added is automatically adjusted to changes in image justification." width="50%"><p class="caption">
Fig.11 Image annotation that is added is automatically adjusted to
changes in image justification.
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="the-image-container">5. The image container<a class="anchor" aria-label="anchor" href="#the-image-container"></a>
</h2>
<p>The S4 object in which data regarding the imaging of the tissue is
stored is an object of class <code>HistologyImaging</code>. It contains
several slots. Run <code><a href="../reference/HistologyImaging-class.html">?HistologyImaging</a></code> to find extensive
documentation about what each slot is about.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hist_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/HistologyImaging-class.html">HistologyImaging</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu">slotNames</span><span class="op">(</span><span class="va">hist_img</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##  [1] "annotations"   "coordinates"   "dir_default"   "dir_highres"  </span>
<span class="co">##  [5] "dir_lowres"    "dir_add"       "grid"          "id"           </span>
<span class="co">##  [9] "image"         "image_info"    "justification" "meta"         </span>
<span class="co">## [13] "misc"</span></code></pre>
<p>The whole object can be obtained via <code><a href="../reference/getImageObject.html">getImageObject()</a></code>.
(Not to confuse with <code><a href="../reference/getImage.html">getImage()</a></code> which only extracts the
image itself.)</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">io</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getImageObject.html">getImageObject</a></span><span class="op">(</span><span class="va">object_t336</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">io</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Formal class 'HistologyImaging' [package "SPATA2"] with 13 slots</span>
<span class="co">##   ..@ annotations  : Named list()</span>
<span class="co">##   ..@ coordinates  : tibble [2,280 x 11] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">##   .. ..$ barcodes: chr [1:2280] "AAACACCAATAACTGC-1" "AAACAGAGCGACTCCT-1" "AAACAGGGTCTATATT-1" "AAACCGGGTAGGTACC-1" ...</span>
<span class="co">##   .. ..$ x       : num [1:2280] 1510 576 1584 1397 1223 ...</span>
<span class="co">##   .. ..$ y       : num [1:2280] 554 1526 814 922 705 ...</span>
<span class="co">##   .. ..$ tissue  : int [1:2280] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">##   .. ..$ row     : num [1:2280] 1790 1940 1830 1850 1817 ...</span>
<span class="co">##   .. ..$ col     : num [1:2280] 46.7 296.9 26.7 76.7 123.4 ...</span>
<span class="co">##   .. ..$ imagerow: num [1:2280] -36453 -10610 -29553 -26683 -32437 ...</span>
<span class="co">##   .. ..$ imagecol: num [1:2280] 40148 15327 42126 37163 32539 ...</span>
<span class="co">##   .. ..$ sample  : chr [1:2280] "UKF336T" "UKF336T" "UKF336T" "UKF336T" ...</span>
<span class="co">##   .. ..$ section : chr [1:2280] "1" "1" "1" "1" ...</span>
<span class="co">##   .. ..$ outline : logi [1:2280] TRUE FALSE TRUE FALSE FALSE FALSE ...</span>
<span class="co">##   ..@ dir_default  : chr "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span>
<span class="co">##   ..@ dir_highres  : chr "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_hires_image.png"</span>
<span class="co">##   ..@ dir_lowres   : chr "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_lowres_image.png"</span>
<span class="co">##   ..@ dir_add      :List of 1</span>
<span class="co">##   .. ..$ raman_spectr: chr "data\\Visium10X\\#UKF336_T_P\\outs\\spatial\\raman_tissue_hires_image.tif"</span>
<span class="co">##   ..@ grid         : list()</span>
<span class="co">##   ..@ id           : chr "UKF336T"</span>
<span class="co">##   ..@ image        :Formal class 'Image' [package "EBImage"] with 2 slots</span>
<span class="co">##   .. .. ..@ .Data    : num [1:1908, 1:2000, 1:3] 0.965 0.961 0.965 0.965 0.965 ...</span>
<span class="co">##   .. .. ..@ colormode: int 2</span>
<span class="co">##   .. .. ..$ dim: int [1:3] 1908 2000 3</span>
<span class="co">##   ..@ image_info   :List of 4</span>
<span class="co">##   .. ..$ dim_input    : int [1:3] 1908 2000 3</span>
<span class="co">##   .. ..$ dim_stored   : int [1:3] 1908 2000 3</span>
<span class="co">##   .. ..$ img_scale_fct: num 1</span>
<span class="co">##   .. ..$ origin       : chr "data\\Visium10X\\#UKF336_T_P\\outs/spatial/tissue_hires_image.png"</span>
<span class="co">##   ..@ justification:List of 2</span>
<span class="co">##   .. ..$ angle  : num 0</span>
<span class="co">##   .. ..$ flipped:List of 2</span>
<span class="co">##   .. .. ..$ horizontal: logi FALSE</span>
<span class="co">##   .. .. ..$ vertical  : logi FALSE</span>
<span class="co">##   ..@ meta         : list()</span>
<span class="co">##   ..@ misc         :List of 1</span>
<span class="co">##   .. ..$ VisiumV1:List of 5</span>
<span class="co">##   .. .. ..$ origin       : chr "VisiumV1"</span>
<span class="co">##   .. .. ..$ scale.factors:List of 4</span>
<span class="co">##   .. .. .. ..$ spot    : num 0.125</span>
<span class="co">##   .. .. .. ..$ fiducial: num 208</span>
<span class="co">##   .. .. .. ..$ hires   : num 0.125</span>
<span class="co">##   .. .. .. ..$ lowres  : num 0.0376</span>
<span class="co">##   .. .. .. ..- attr(*, "class")= chr "scalefactors"</span>
<span class="co">##   .. .. ..$ assay        : chr "Spatial"</span>
<span class="co">##   .. .. ..$ spot.radius  : num 0.013</span>
<span class="co">##   .. .. ..$ key          : chr "slice1_"</span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jan Kueckelhaus, Dieter-Henrik Heiland, Simon Frerich.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
