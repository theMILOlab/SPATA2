% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/initiateSpataObject.R
\name{initiateSpataObject_ExprMtr}
\alias{initiateSpataObject_ExprMtr}
\title{Initiate spata object from scaled expression matrix}
\usage{
initiateSpataObject_ExprMtr(
  coords_df,
  expr_mtr,
  sample_name,
  spatial_method = "Unknown",
  count_mtr = NULL,
  mtr_name = "scaled",
  image = NULL,
  image_class = "HistologyImage",
  image_object = NULL,
  directory_spata = NULL,
  combine_with_wd = FALSE,
  gene_set_path = NULL,
  k = 50,
  nn = NULL,
  runPca = list(n_pcs = 30),
  runTsne = list(tsne_perplexity = 30),
  runUmap = list(),
  verbose = TRUE
)
}
\arguments{
\item{coords_df}{Data.frame containing information about the positions of all
barcode-spots in form of a numeric \emph{x}- and \emph{y}-variable. The key-variable
\emph{barcodes} needs to be of type character and must be identical to the column names
of the input matrix.}

\item{expr_mtr}{A numeric matrix. The expression matrix to be used.}

\item{sample_name}{Character value. Denotes the name of the sample you are
analyzing with the spata-object. The future input for SPATA's \code{of_sample}-argument.}

\item{image}{An Image of the sample that can be displayed as the surface plot's background.}

\item{gene_set_path}{Character value (or NULL). Specifies the path to a
.RDS-file containing a data.frame that is to be used as input for slot @used_genesets.

Must have the character-variables

\itemize{
\item{\emph{'ont'}: The gene set names.}
\item{\emph{'gene'}: The belonging gene names.}
}

If set to NULL the default gene-set data.frame will used. Run \code{?gsdf} to get more information.}

\item{k, nn}{Numeric value. Given to argument \code{k} of function \code{RANN::nn2()}: Determines to maximum number
of nearest neighbours to compute. (\code{nn} is deprecated.)}
}
\value{
A \code{spata2} object.
}
\description{
Default function for any spatial related experiment whoose output is
an already processed expression/intensity matrix. See details for more information.
}
\details{
After initiating the \code{spata2} object PCA is performed via \code{irlba::prcomp_irlba()} and clustering
is done via \code{RANN::nn2()}. (Use \code{addFeatures()} to add any clustering results of your own analysis.)
Additional dimensional reduction is performed via \code{Rtsne::Rtsne()} and \code{umap::umap()}.

Note that this function initiates a \code{spata2} object that does not contain a count-matrix! You can
add a count-matrix manually using \code{setCountmatrix()}. As long as there is none functions that
need a count-matrix will throw an error telling you that no count matrix could be found.
}
